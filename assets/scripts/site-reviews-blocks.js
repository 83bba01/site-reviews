!function(e,t,i,n,o,s){"use strict";var a=o.__,l=GLSR.nameprefix+"/form",r=n.createElement,c=i.InspectorControls,u=i.InspectorAdvancedControls,p=t.PanelBody,v=t.ServerSideRender,h=t.TextControl,w=t.SelectControl,d={label:"- "+a("Select","site-reviews")+" -",value:""},g=[];wp.apiFetch({path:"/site-reviews/v1/categories?per_page=50"}).then(function(e){g.push(d),s.each(e,function(e,t){g.push({label:t.name,value:t.id})})});var m=function(e,t,i,n){return r("div",{className:"components-base-control__field"},r("input",{checked:n.attributes.hide.split(",").indexOf(t)>-1,className:"components-checkbox-control__input",id:"inspector-checkbox-control-hide-"+e,type:"checkbox",value:1,onChange:function(e){!function(e,t,i){var n=_.without(i.attributes.hide.split(","),"");t?n.push(e):n=_.without(n,e),i.setAttributes({hide:n.toString()})}(t,e.target.checked,n)}}),r("label",{className:"components-checkbox-control__label",htmlFor:"inspector-checkbox-control-hide-"+e},i))},f=function(e,t){var i=0,n=["div",{className:"components-base-control"}];for(var o in e)e.hasOwnProperty(o)&&(n.push(m(i,o,e[o],t)),i++);return r.apply(null,n)};e.registerBlockType(l,{attributes:{assign_to:{default:"",type:"string"},category:{default:"",type:"string"},className:{default:"",type:"string"},hide:{default:"",type:"string"},id:{default:"",type:"string"}},category:GLSR.nameprefix,description:a("Display a review submission form.","site-reviews"),edit:function(e){return[r(c,{key:"inspector"},r(p,{title:a("Settings","site-reviews")},r(h,{help:a('Assign reviews to a post ID. You can also enter "post_id" to use the ID of the current page, or "parent_id" to use the ID of the parent page.',"site-reviews"),label:a("Assign To","site-reviews"),onChange:function(t){e.setAttributes({assign_to:t})},type:"text",value:e.attributes.assign_to}),r(w,{help:a("Assign reviews to a category.","site-reviews"),label:a("Category","site-reviews"),onChange:function(t){e.setAttributes({category:t})},options:g,value:e.attributes.category}),f.apply(null,[GLSR.hideoptions.site_reviews_form,e]))),r(u,null,r(h,{label:a("Custom ID","site-reviews"),onChange:function(t){e.setAttributes({id:t})},type:"text",value:e.attributes.id})),r(v,{block:l,attributes:e.attributes})]},example:{},icon:r(t.SVG,{width:"22px",height:"22px",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg"},r(t.Path,{d:"M11 2l-3 6-6 .75 4.13 4.62-1.13 6.63 6-3 6 3-1.12-6.63 4.12-4.62-6-.75-3-6zm0 2.24l2.34 4.69 4.65.58-3.18 3.56.87 5.15-4.68-2.34v-11.64zm8.28-.894v.963h-3.272v2.691h-1.017v-6.3h4.496v.963h-3.479v1.683h3.272z"})),save:function(){return null},title:"Submit a Review"})}(window.wp.blocks,window.wp.components,window.wp.editor,window.wp.element,window.wp.i18n,window.jQuery),function(e,t,i,n,o,s){"use strict";var a=o.__,l=GLSR.nameprefix+"/reviews",r=n.createElement,c=i.InspectorControls,u=i.InspectorAdvancedControls,p=t.PanelBody,v=t.ServerSideRender,h=t.TextControl,w=t.ToggleControl,d=t.RangeControl,g=t.SelectControl,m={label:"- "+a("Select","site-reviews")+" -",value:""},f=[];wp.apiFetch({path:"/site-reviews/v1/categories?per_page=50"}).then(function(e){f.push(m),s.each(e,function(e,t){f.push({label:t.name,value:t.id})})});var b=[];wp.apiFetch({path:"/site-reviews/v1/types?per_page=50"}).then(function(e){e.length<2||(b.push(m),s.each(e,function(e,t){b.push({label:t.name,value:t.slug})}))});var y=function(e,t,i,n){return r("div",{className:"components-base-control__field"},r("input",{checked:n.attributes.hide.split(",").indexOf(t)>-1,className:"components-checkbox-control__input",id:"inspector-checkbox-control-hide-"+e,type:"checkbox",value:1,onChange:function(e){!function(e,t,i){var n=_.without(i.attributes.hide.split(","),"");t?n.push(e):n=_.without(n,e),i.setAttributes({hide:n.toString()})}(t,e.target.checked,n)}}),r("label",{className:"components-checkbox-control__label",htmlFor:"inspector-checkbox-control-hide-"+e},i))},x=function(e,t){var i=0,n=["div",{className:"components-base-control"}];for(var o in e)e.hasOwnProperty(o)&&(n.push(y(i,o,e[o],t)),i++);return r.apply(null,n)};e.registerBlockType(l,{attributes:{assigned_to:{default:"",type:"string"},category:{default:"",type:"string"},className:{default:"",type:"string"},display:{default:5,type:"number"},hide:{default:"",type:"string"},id:{default:"",type:"string"},pagination:{default:"",type:"string"},post_id:{default:"",type:"string"},rating:{default:0,type:"number"},schema:{default:!1,type:"boolean"},type:{default:"local",type:"string"}},category:GLSR.nameprefix,description:a("Display your most recent reviews.","site-reviews"),edit:function(e){return e.attributes.post_id=s("#post_ID").val(),[r(c,{key:"inspector"},r(p,{title:a("Settings","site-reviews")},r(h,{help:a('Limit reviews to those assigned to this post ID. You can also enter "post_id" to use the ID of the current page, or "parent_id" to use the ID of the parent page.',"site-reviews"),label:a("Assigned To","site-reviews"),onChange:function(t){e.setAttributes({assigned_to:t})},type:"text",value:e.attributes.assigned_to}),r(g,{help:a("Limit reviews to a specific category.","site-reviews"),label:a("Category","site-reviews"),onChange:function(t){e.setAttributes({category:t})},options:f,value:e.attributes.category}),r(g,{help:a("Pagination should only be enabled once per page.","site-reviews"),label:a("Pagination","site-reviews"),onChange:function(t){e.setAttributes({pagination:t})},options:[m,{label:a("Enabled","site-reviews"),value:"true"},{label:a("Enabled (using ajax)","site-reviews"),value:"ajax"}],value:e.attributes.pagination}),r(g,{help:a("Limit reviews to a specific type.","site-reviews"),label:a("Type","site-reviews"),onChange:function(t){e.setAttributes({type:t})},options:b,value:e.attributes.type}),r(d,{help:a("Limit reviews to a minimum rating.","site-reviews"),label:a("Minimum Rating","site-reviews"),onChange:function(t){e.setAttributes({rating:t})},min:0,max:5,value:e.attributes.rating}),r(d,{help:a("The number of reviews to display.","site-reviews"),label:a("Display","site-reviews"),onChange:function(t){e.setAttributes({display:t})},min:1,max:50,value:e.attributes.display}),r(w,{help:a("The schema should only be enabled once per page.","site-reviews"),label:a("Enable the schema?","site-reviews"),checked:e.attributes.schema,onChange:function(t){e.setAttributes({schema:t})}}),x.apply(null,[GLSR.hideoptions.site_reviews,e]))),r(u,null,r(h,{label:a("Custom ID","site-reviews"),onChange:function(t){e.setAttributes({id:t})},type:"text",value:e.attributes.id})),r(v,{block:l,attributes:e.attributes})]},example:{attributes:{display:2,pagination:"ajax",rating:0}},icon:r(t.SVG,{width:"22px",height:"22px",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg"},r(t.Path,{d:"M11 2l-3 6-6 .75 4.13 4.62-1.13 6.63 6-3 6 3-1.12-6.63 4.12-4.62-6-.75-3-6zm0 2.24l2.34 4.69 4.65.58-3.18 3.56.87 5.15-4.68-2.34v-11.64zm3.681-3.54h2.592c1.449 0 2.232.648 2.232 1.823 0 1.071-.819 1.782-2.102 1.827l2.075 2.651h-1.26l-2.007-2.651h-.513v2.651h-1.017v-6.3zm2.565.954h-1.548v1.773h1.548c.819 0 1.202-.297 1.202-.905 0-.599-.405-.869-1.202-.869z"})),save:function(){return null},title:"Latest Reviews"}),wp.hooks.addFilter("blocks.getBlockAttributes",l,function(e,t,i,n){return n&&n.count&&(e.display=n.count),e})}(window.wp.blocks,window.wp.components,window.wp.editor,window.wp.element,window.wp.i18n,window.jQuery),function(e,t,i,n,o,s){"use strict";var a=o.__,l=n.createElement,r=i.InspectorControls,c=t.PanelBody,u=t.ServerSideRender,p=t.TextControl,v=t.ToggleControl,h=t.RangeControl,w=t.SelectControl,d={label:"- "+a("Select","site-reviews")+" -",value:""},g=[];wp.apiFetch({path:"/site-reviews/v1/categories?per_page=50"}).then(function(e){g.push(d),s.each(e,function(e,t){g.push({label:t.name,value:t.id})})});var m=[];wp.apiFetch({path:"/site-reviews/v1/types?per_page=50"}).then(function(e){e.length<2||(m.push(d),s.each(e,function(e,t){m.push({label:t.name,value:t.slug})}))});var f=function(e,t,i,n){return l("div",{className:"components-base-control__field"},l("input",{checked:n.attributes.hide.split(",").indexOf(t)>-1,className:"components-checkbox-control__input",id:"inspector-checkbox-control-hide-"+e,type:"checkbox",value:1,onChange:function(e){!function(e,t,i){var n=_.without(i.attributes.hide.split(","),"");t?n.push(e):n=_.without(n,e),i.setAttributes({hide:n.toString()})}(t,e.target.checked,n)}}),l("label",{className:"components-checkbox-control__label",htmlFor:"inspector-checkbox-control-hide-"+e},i))},b=function(e,t){var i=0,n=["div",{className:"components-base-control"}];for(var o in e)e.hasOwnProperty(o)&&(n.push(f(i,o,e[o],t)),i++);return l.apply(null,n)};e.registerBlockType(GLSR.nameprefix+"/summary",{attributes:{assigned_to:{default:"",type:"string"},category:{default:"",type:"string"},className:{default:"",type:"string"},hide:{default:"",type:"string"},post_id:{default:"",type:"string"},rating:{default:1,type:"number"},schema:{default:!1,type:"boolean"},type:{default:"local",type:"string"}},category:GLSR.nameprefix,description:a("Display a summary of your reviews.","site-reviews"),edit:function(e){return e.attributes.post_id=s("#post_ID").val(),[l(r,{key:"inspector"},l(c,{title:a("Settings","site-reviews")},l(p,{help:a('Limit reviews to those assigned to this post ID. You can also enter "post_id" to use the ID of the current page, or "parent_id" to use the ID of the parent page.',"site-reviews"),label:a("Assigned To","site-reviews"),onChange:function(t){e.setAttributes({assigned_to:t})},type:"text",value:e.attributes.assigned_to}),l(w,{help:a("Limit reviews to a specific category.","site-reviews"),label:a("Category","site-reviews"),onChange:function(t){e.setAttributes({category:t})},options:g,value:e.attributes.category}),l(w,{help:a("Limit reviews to a specific type.","site-reviews"),label:a("Type","site-reviews"),onChange:function(t){e.setAttributes({type:t})},options:m,value:e.attributes.type}),l(h,{help:a("Limit reviews to a minimum rating.","site-reviews"),label:a("Minimum Rating","site-reviews"),onChange:function(t){e.setAttributes({rating:t})},min:0,max:5,value:e.attributes.rating}),l(v,{help:a("The schema should only be enabled once per page.","site-reviews"),label:a("Enable the schema?","site-reviews"),checked:e.attributes.schema,onChange:function(t){e.setAttributes({schema:t})}}),b.apply(null,[GLSR.hideoptions.site_reviews_summary,e]))),l(u,{block:GLSR.nameprefix+"/summary",attributes:e.attributes})]},example:{},icon:l(t.SVG,{width:"22px",height:"22px",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg"},l(t.Path,{d:"M11 2l-3 6-6 .75 4.13 4.62-1.13 6.63 6-3 6 3-1.12-6.63 4.12-4.62-6-.75-3-6zm0 2.24l2.34 4.69 4.65.58-3.18 3.56.87 5.15-4.68-2.34v-11.64zm8.415-2.969l-.518.824c-.536-.342-1.13-.54-1.769-.54-.842 0-1.418.365-1.418.941 0 .522.491.725 1.31.842l.437.059c1.022.14 2.03.563 2.03 1.733 0 1.283-1.161 1.985-2.525 1.985-.855 0-1.881-.284-2.534-.846l.554-.81c.432.396 1.247.693 1.976.693.824 0 1.472-.351 1.472-.932 0-.495-.495-.725-1.418-.851l-.491-.068c-.936-.131-1.868-.572-1.868-1.742 0-1.265 1.121-1.967 2.484-1.967.918 0 1.643.257 2.277.68z"})),save:function(){return null},title:"Summary"})}(window.wp.blocks,window.wp.components,window.wp.editor,window.wp.element,window.wp.i18n,window.jQuery);
