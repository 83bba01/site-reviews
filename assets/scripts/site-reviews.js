!function(i,e,t){"use strict";var s=function(t,i){this.selects="[object String]"==={}.toString.call(t)?e.querySelectorAll(t):[t],this.destroy=function(){this.widgets.forEach(function(t){t.destroy()})},this.rebuild=function(){this.widgets.forEach(function(t){t.rebuild()})},this.widgets=[];for(var s=0;s<this.selects.length;s++)if("SELECT"===this.selects[s].tagName){var n=new h(this.selects[s],i);void 0!==n.direction&&this.widgets.push(n)}},h=function(t,i){this.el=t,this.options=this.extend({},this.defaults,i||{},JSON.parse(t.getAttribute("data-options"))),this.setStarCount(),this.stars<1||this.stars>this.options.maxStars||this.init()};h.prototype={defaults:{clearable:!0,initialText:"Select a Rating",maxStars:10,onClick:null,showText:!0},init:function(){this.initEvents(),this.current=this.selected=this.getSelectedValue(),this.wrapEl(),this.buildWidgetEl(),this.setDirection(),this.setValue(this.current),this.handleEvents("add")},buildLabelEl:function(){this.options.showText&&(this.textEl=this.insertSpanEl(this.widgetEl,{class:"gl-star-rating-text"},!0))},buildWidgetEl:function(){var t=this.getOptionValues(),i=this.insertSpanEl(this.el,{class:"gl-star-rating-stars"},!0);for(var s in t)if(t.hasOwnProperty(s)){var n=this.createSpanEl({"data-value":s,"data-text":t[s]});i.innerHTML+=n.outerHTML}this.widgetEl=i,this.buildLabelEl()},changeTo:function(t){(t<0||""===t)&&(t=0),t>this.stars&&(t=this.stars),this.widgetEl.classList.remove("s"+10*this.current),this.widgetEl.classList.add("s"+10*t),this.options.showText&&(this.textEl.textContent=t<1?this.options.initialText:this.widgetEl.childNodes[t-1].dataset.text),this.current=t},createSpanEl:function(t){var i=e.createElement("span");for(var s in t=t||{})t.hasOwnProperty(s)&&i.setAttribute(s,t[s]);return i},destroy:function(){this.handleEvents("remove");var t=this.el.parentNode;t.parentNode.replaceChild(this.el,t)},eventListener:function(i,s,t){t.forEach(function(t){i[s+"EventListener"](t,this.events[t])}.bind(this))},extend:function(){var t=[].slice.call(arguments),s=t[0],n=t.slice(1);return Object.keys(n).forEach(function(t){for(var i in n[t])n[t].hasOwnProperty(i)&&(s[i]=n[t][i])}),s},getIndexFromPosition:function(t){var i={},s=this.widgetEl.offsetWidth;return i.ltr=Math.max(t-this.offsetLeft,1),i.rtl=s-i.ltr,Math.min(Math.ceil(i[this.direction]/Math.round(s/this.stars)),this.stars)},getOptionValues:function(){for(var t=this.el,i={},s={},n=0;n<t.length;n++)""!==t[n].value&&(i[t[n].value]=t[n].text);return Object.keys(i).sort().forEach(function(t){s[t]=i[t]}),s},getSelectedValue:function(){return parseInt(this.el.options[Math.max(this.el.selectedIndex,0)].value)||0},handleEvents:function(t){var i=this.el.closest("form");this.eventListener(this.el,t,["change","keydown"]),this.eventListener(this.widgetEl,t,["click","mouseenter","mouseleave"]),i&&this.eventListener(i,t,["reset"])},initEvents:function(){this.events={change:this.onChange.bind(this),click:this.onClick.bind(this),keydown:this.onKeydown.bind(this),mouseenter:this.onMouseenter.bind(this),mouseleave:this.onMouseleave.bind(this),mousemove:this.onMousemove.bind(this),reset:this.onReset.bind(this)}},insertSpanEl:function(t,i,s){var n=this.createSpanEl(i);return t.parentNode.insertBefore(n,!0===s?t.nextSibling:t),n},isCloneable:function(t){return Array.isArray(t)||"[object Object]"=={}.toString.call(t)},onChange:function(){this.changeTo(this.getSelectedValue())},onClick:function(t){var i=this.getIndexFromPosition(t.pageX);if(0!==this.current&&parseFloat(this.selected)===i&&this.options.clearable)return this.onReset();this.setValue(i),"function"==typeof this.options.onClick&&this.options.onClick.call(this,this.el)},onKeydown:function(t){if(-1!==["ArrowLeft","ArrowRight"].indexOf(t.key)){var i="ArrowLeft"===t.key?-1:1;"rtl"===this.direction&&(i*=-1),this.setValue(Math.min(Math.max(this.getSelectedValue()+i,0),this.stars))}},onMouseenter:function(){var t=this.widgetEl.getBoundingClientRect();this.offsetLeft=t.left+e.body.scrollLeft,this.widgetEl.addEventListener("mousemove",this.events.mousemove)},onMouseleave:function(){this.widgetEl.removeEventListener("mousemove",this.events.mousemove),this.changeTo(this.selected)},onMousemove:function(t){this.changeTo(this.getIndexFromPosition(t.pageX))},onReset:function(){var t=this.el.querySelector("[selected]"),i=t?t.value:"";this.el.value=i,this.selected=parseInt(i)||0,this.changeTo(i)},rebuild:function(){this.el.parentNode.classList.contains("gl-star-rating")&&this.destroy(),this.init()},setDirection:function(){var t=this.el.parentNode;this.direction=i.getComputedStyle(t,null).getPropertyValue("direction"),t.classList.add("gl-star-rating-"+this.direction)},setValue:function(t){this.el.value=t,this.selected=t,this.changeTo(t)},setStarCount:function(){for(var t=this.el,i=this.stars=0;i<t.length;i++)if(""!==t[i].value){if(isNaN(parseFloat(t[i].value))||!isFinite(t[i].value))return void(this.stars=0);this.stars++}},wrapEl:function(){this.insertSpanEl(this.el,{class:"gl-star-rating","data-star-rating":""}).appendChild(this.el)}},"function"==typeof define&&define.amd?define([],function(){return s}):"object"==typeof module&&module.exports?module.exports=s:i.StarRating=s}(window,document),function(){"use strict";GLSR.Ajax=function(){this.get=this.t,this.isFileAPISupported=this.i,this.isFormDataSupported=this.s,this.isUploadSupported=this.n,this.post=this.e},GLSR.Ajax.prototype={t:function(t,i,s){this.xhr=new XMLHttpRequest,this.xhr.open("GET",t),this.xhr.onreadystatechange=function(){4===this.xhr.readyState&&200===this.xhr.status&&i(this.xhr.responseText)}.bind(this),this.h(s),this.xhr.send()},i:function(){var t=document.createElement("INPUT");return t.type="file","files"in t},s:function(){return!!window.FormData},n:function(){var t=new XMLHttpRequest;return!!(t&&"upload"in t&&"onprogress"in t.upload)},r:function(i,s,n){return"object"!=typeof s||s instanceof Date||s instanceof File?i.append(n,s||""):Object.keys(s).forEach(function(t){s.hasOwnProperty(t)&&(i=this.r(i,s[t],n?n[t]:t))}.bind(this)),i},o:function(t){var i=new FormData(t);return"[object HTMLFormElement]"!==Object.prototype.toString.call(t)&&(i=this.r(i,t)),i.append("action",GLSR.action),i.append("ajax_request",!0),i},e:function(t,i,s){this.xhr=new XMLHttpRequest,this.xhr.open("POST",GLSR.ajaxurl),this.h(s),this.xhr.send(this.o(t)),this.xhr.onreadystatechange=function(){this.xhr.readyState===XMLHttpRequest.DONE&&200===this.xhr.status&&i(JSON.parse(this.xhr.responseText))}.bind(this)},h:function(t){for(var i in(t=t||{})["X-Requested-With"]="XMLHttpRequest",t)t.hasOwnProperty(i)&&this.xhr.setRequestHeader(i,t[i])}}}(),function(){"use strict";GLSR.Excerpts=function(t){this.a(t||document)},GLSR.Excerpts.prototype={config:{hiddenClass:"glsr-hidden",hiddenTextSelector:".glsr-hidden-text",readMoreClass:"glsr-read-more",visibleClass:"glsr-visible"},c:function(t){var i=document.createElement("span"),s=document.createElement("a");s.setAttribute("href","#"),s.setAttribute("data-text",t.getAttribute("data-show-less")),s.innerHTML=t.getAttribute("data-show-more"),s.addEventListener("click",this.u.bind(this)),i.setAttribute("class",this.config.readMoreClass),i.appendChild(s),t.parentNode.insertBefore(i,t.nextSibling)},u:function(t){t.preventDefault();var i=t.target,s=i.parentNode.previousSibling,n=i.getAttribute("data-text");s.classList.toggle(this.config.hiddenClass),s.classList.toggle(this.config.visibleClass),i.setAttribute("data-text",i.innerText),i.innerText=n},a:function(t){for(var i=t.querySelectorAll(this.config.hiddenTextSelector),s=0;s<i.length;s++)this.c(i[s])}}}(),function(){"use strict";var e=function(t,i){this.button=i,this.form=t,this.init=this.a.bind(this),this.recaptcha=new GLSR.Recaptcha(this)};e.prototype={config:{fieldErrorsClass:"glsr-field-errors",fieldSelector:".glsr-field",formMessagesClass:"glsr-form-messages",hasErrorClass:"glsr-has-error"},f:function(t,i,s){t.classList[s?"add":"remove"](i)},l:function(t){var i=t.closest(this.config.fieldSelector);if(null!==i){i.classList.remove(this.config.hasErrorClass);var s=i.querySelector(this.config.fieldErrorsSelector);null!==s&&s.parentNode.removeChild(s)}},d:function(){this.v().innerHTML="";for(var t=0;t<this.form.length;t++)this.l(this.form[t])},m:function(){this.button.setAttribute("disabled","")},g:function(){this.button.removeAttribute("disabled")},w:function(){var t=new GLSR.Ajax;t.isFileAPISupported()&&t.isFormDataSupported()&&t.isUploadSupported()||this.form.submit()},_:function(t){var i=t.querySelector("."+this.config.fieldErrorsClass);return null===i&&((i=document.createElement("div")).setAttribute("class",this.config.fieldErrorsClass),t.appendChild(i)),i},p:function(t){var i=this.form["g-recaptcha-response"];return i&&(i.value=t||""),this.form},v:function(){var t=this.form.querySelector("."+this.config.formMessagesClass);return null===t&&((t=document.createElement("div")).setAttribute("class",this.config.formMessagesClass),this.button.parentNode.insertBefore(t,this.button.nextSibling)),t},S:function(t){!0!==t.recaptcha?("reset"===t.recaptcha&&this.recaptcha.b(),!1===t.errors&&(this.recaptcha.b(),this.form.reset()),this.L(t.errors),this.R(t),this.g(),t.form=this.form,document.dispatchEvent(new CustomEvent("site-reviews/after/submission",{detail:t}))):this.recaptcha.M()},a:function(){this.button.addEventListener("click",this.u.bind(this)),this.form.addEventListener("change",this.C.bind(this)),this.form.addEventListener("submit",this.k.bind(this)),this.x()},x:function(){new StarRating("select.glsr-star-rating",{clearable:!1,showText:!1,onClick:this.l.bind(this)})},C:function(t){this.l(t.target)},u:function(){var i=this;this.form.onsubmit=null,HTMLFormElement.prototype._submit=HTMLFormElement.prototype.submit,HTMLFormElement.prototype.submit=function(){var t=this["g-recaptcha-response"];t&&this.querySelector(i.config.fieldSelector)?i.G(t.value):this._submit()}},k:function(t){this.form.classList.contains("no-ajax")||(t.preventDefault(),this.recaptcha.T(),this.d(),this.G())},L:function(t){var i,s;if(t)for(var n in t){(i=this.form.querySelector("[name="+n+"]").closest(this.config.fieldSelector)).classList.add(this.config.hasErrorClass),s=this._(i);for(var e=0;e<t[n].errors.length;e++)s.innerHTML+=t[n].errors[e]}},R:function(t){var i=this.v();this.f(i,"gslr-has-errors",!!t.errors),i.innerHTML=t.message},G:function(t){this.m(),this.w(),(new GLSR.Ajax).post(this.p(t),this.S.bind(this))}},GLSR.Forms=function(t){var i,s;this.nodeList=document.querySelectorAll("form.glsr-form"),this.forms=[];for(var n=0;n<this.nodeList.length;n++)(s=this.nodeList[n].querySelector("[type=submit]"))&&(i=new e(this.nodeList[n],s),t&&i.init(),this.forms.push(i));this.renderRecaptcha=function(){this.forms.forEach(function(t){t.recaptcha.j()})}}}(),function(){"use strict";var i=function(t){this.el=t,this.F()};i.prototype={config:{hideClass:"glsr-hide",linkSelector:".glsr-navigation a",scrollTime:468},O:function(t){for(var i=0;t=t.previousSibling;)1===t.nodeType&&i++;return i},y:function(t){if(t.nodeName)return this.H(this.D(t))},H:function(t){if(""!==t.id)return"#"+t.id;var i="";return t.parent&&(i=this.H(t.parent)+" > "),i+t.name+":nth-child("+(t.index+1)+")"},D:function(t){var i={id:t.id,index:this.O(t),name:t.nodeName.toLowerCase(),parent:null};return t.parentElement&&t.parentElement!==document.body&&(i.parent=this.D(t.parentElement)),i},I:function(t){return t.className?"."+t.className.trim().replace(/\s+/g,"."):""},q:function(t){return t.id?"#"+t.id.trim():""},S:function(t,i,s){var n=document.implementation.createHTMLDocument("x");n.documentElement.innerHTML=s;var e=i?n.querySelectorAll(i):"";if(1===e.length)return this.el.innerHTML=e[0].innerHTML,this.N(this.el),this.el.classList.remove(this.config.hideClass),this.F(),window.history.pushState(null,"",t),void new GLSR.Excerpts(this.el);window.location=t},F:function(){for(var t=this.el.querySelectorAll(this.config.linkSelector),i=0;i<t.length;i++)t[i].addEventListener("click",this.u.bind(this))},u:function(t){t.preventDefault();var i=this.y(this.el);this.el.classList.add(this.config.hideClass),(new GLSR.Ajax).get(t.target.href,this.S.bind(this,t.target.href,i))},N:function(t,i){var s;i=i||16;for(var n=0;n<GLSR.ajaxpagination.length;n++)(s=document.querySelector(GLSR.ajaxpagination[n]))&&"fixed"===window.getComputedStyle(s).getPropertyValue("position")&&(i+=s.clientHeight);var e=t.getBoundingClientRect().top-i;0<e||this.P({endY:e,offset:window.pageYOffset,startTime:window.performance.now(),startY:t.scrollTop})},P:function(t){var i=(window.performance.now()-t.startTime)/this.config.scrollTime;i=1<i?1:i;var s=.5*(1-Math.cos(Math.PI*i)),n=t.startY+(t.endY-t.startY)*s;window.scroll(0,t.offset+n),n!==t.endY&&window.requestAnimationFrame(this.P.bind(this,t))}},GLSR.Pagination=function(){this.navs=[],document.querySelectorAll(".glsr-ajax-pagination").forEach(function(t){this.navs.push(new i(t))}.bind(this))}}(),function(){"use strict";GLSR.Recaptcha=function(t){this.Form=t},GLSR.Recaptcha.prototype={config:{recaptchaSelector:".glsr-recaptcha-holder"},T:function(){var t=this.A();-1!==t&&(t.addEventListener("click",this.Form.g),window.addEventListener("keyup",this.X.bind(this,t)))},M:function(){var t=this.V();-1===t?this.Form.G(!1):grecaptcha.execute(t)},V:function(){return this.B(function(t,i){if("[object HTMLDivElement]"===Object.prototype.toString.call(t))return t.closest("form")===this.Form.form?i:void 0}.bind(this))},A:function(){return this.B(function(t){if("[object Object]"===Object.prototype.toString.call(t)){for(var i in t)if(t.hasOwnProperty(i)&&"[object HTMLDivElement]"===Object.prototype.toString.call(t[i])&&""===t[i].className)return t[i].firstChild;return!1}})},X:function(t){27===t.keyCode&&(this.Form.g(),this.J(t.target))},J:function(t){t.removeEventListener("click",this.Form.g),window.removeEventListener("keyup",this.X)},j:function(){this.Form.form.onsubmit=null;var t=this.Form.form.querySelector(this.config.recaptchaSelector);if(t){t.innerHTML="";var i=grecaptcha.render(t,{callback:this.G.bind(this),"expired-callback":function(){grecaptcha.reset(i)}},!0)}},b:function(){var t=this.V();-1!==t&&grecaptcha.reset(t)},B:function(t){var i=-1;if(window.hasOwnProperty("___grecaptcha_cfg")){var s,n,e=window.___grecaptcha_cfg.clients;for(s in e)for(n in e[s])if(i=t(e[s][n],s))return i}return i},G:function(t){this.Form.G(t)}}}(),document.addEventListener("DOMContentLoaded",function(){for(var t=document.querySelectorAll(".glsr-widget, .glsr-shortcode"),i=0;i<t.length;i++){var s=window.getComputedStyle(t[i],null).getPropertyValue("direction");t[i].classList.add("glsr-"+s)}new GLSR.Forms(!0),new GLSR.Pagination,new GLSR.Excerpts});